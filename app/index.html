<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Swiss public transport API POC</title>
  <meta name="viewport" content="width=device-width">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
  <link rel="stylesheet" type="text/css" href="css/map-icons.css">
  <link rel="stylesheet" type="text/css" href="css/toastr.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-datetimepicker.css" />
  <link rel="stylesheet" type="text/css" href="css/main.css">
</head>

<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button id="menu-toggle" type="button" class="navbar-toggle" data-toggle="collapse"
          data-target="#sidebar" aria-expanded="true" data-bind="click: handleHamburgerMenu">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Swiss public transport API POC</a>
      </div>
    </div>
  </nav>
  <div class="container-fluid wrapper">
    <div id="row-main" class="row row-main">
      <div id="sidebar" class="sidebar col-xs-6 col-sm-3 col-md-3 collapse in" data-bind="css: sidebarStyling">
        <div>
          <input id="filter" class="filter" type="text" data-bind="value: filterStationText, valueUpdate: 'afterkeydown'"
            placeholder="Filter stations" />
        </div>
        <div data-bind="visible: journeys() !== undefined && journeys().length > 0">
          <div class="transports clearfix" data-bind="foreach: journeys">
            <div class="transport" data-bind="text: operator + ' ' + number + ' to: ' + to, style: $parent.journeyStyling($data), click:  function(data, event) { $parent.changeJourney(data) }"></div>
          </div>
        </div>
        <ul class="checkpoint-results filtered-checkpoints" id="filtered-checkpoints" data-bind="foreach: filteredJourneyCheckpoints">
          <li class="checkpoint-result" data-bind="text: locationName + ' (' + arrivalDate + ')', click: $parent.checkpointClicked, css: $parent.filteredCheckpoinstCss($data), style: $parent.filteredCheckpoinstStyling()"></li>
        </ul>
      </div>
      <div class="col-xs-6 col-sm-9 col-md-9" id="content" data-bind="css: contentStyling">
        <div id="map" class="map"></div>
        <div id="search-stations" class="search-stations">
          <div class="form-inline">
            <div class="form-group">
              <input type="text" class="form-control text-center" placeholder="Search a Swiss station"
                data-bind="typeaheadJS: typeaheadOptions, selectedStation: selectedStation">
            </div>
            <div class="input-group date" id="datetimepicker1">
              <input type="text" class="form-control" data-bind="dateTimePicker: selectedDatetime"
              />
              <span class="input-group-addon">
                  <span class="glyphicon glyphicon-calendar"></span>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="modal-application" class="modal fade" tabindex="-1" role="dialog" data-bind="modal:showDialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title">Swiss Transport API POC</h4>
        </div>
        <div class="modal-body">
          <p>
            This application relies on <a href="http://knockoutjs.com/">http://knockoutjs.com/</a>            and is part of the <a href="https://www.udacity.com/course/front-end-web-developer-nanodegree--nd001">Front-End Web Developer Nanodegree</a>,
            it uses the <a href="https://transport.opendata.ch/">Swiss Transport API</a>            and <a href="https://developers.google.com/maps/">Google Maps API</a>.
          </p>
          <p>
            You can try to search a Swiss Stations, for example, Bern, Lausanne, Moudon, .. the
            application will try to search the next connections leaving from this
            specific location at the selected datetime. It even works with some location
            outside of the Switzerland, like Paris, ..
          </p>
          <h5>Known issues</h5>
          <ul>
            <li>The marker animation works incorrectly <a href="https://github.com/scottdejonge/map-icons/issues/24">#24</a></li>
            <li>Sometimes the markers are not shown even when the journey has been selected,
              just zoom in/out to force a refresh! It's an issue with map-icons</li>
          </ul>
          <h5>Futher improvments</h5>
          <ul>
            <li>Better, we can use the <a href="http://transport.opendata.ch/docs.html#connections">connections API</a>              to display a journey from, to a destination, yes, that's what Google
              Maps already do, but it's intersting!.</li>
          </ul>
          <h5>Principal libraries used</h5>
          <ul>
            <li><a href="http://map-icons.com/">Map Icons</a>
            </li>
            <li><a href="http://www.checkman.io/please/">Random color generator</a>
            </li>
            <li><a href="https://twitter.github.io/typeahead.js/">typeahead.js</a>
            </li>
          </ul>
        </div>
        <div class="modal-footer">
          <button id="button-modal-application" type="button" class="btn btn-default" data-dismiss="modal"
            data-bind="click: doNotDisplayAnymoreStartupModal">OK, I got it!</button>
        </div>
      </div>
    </div>
  </div>
  <script src="js/app.js"></script>
</body>

</html>
